---
import BaseLayout from '@/layouts/Layout.astro'
import { Icon } from 'astro-icon/components'

const pageData = {
	title: "Projects - Kokitree",
	description: "A collection of Kokitree's open source projects, side projects, and digital experiments.",
	url: "https://www.maxbytefield.dev/projects",
	image: "https://www.maxbytefield.dev/og-image.png",
}

const projects = [
	{
		name: "When in Phnom Penh",
		description: "a comprehensive online guide to Phnom Penh, offering valuable insights and information through the perspectives of our local writers.",
		tech: ["WordPress", "Cloudflare"],
		website: "https://wheninphnompenh.com/",
		featured: false
	},
	{
		name: "Sweet Memory Store",
		description: "Established in 2012, Sweet Memory Store focuses on delivering high-quality products that bridge the gap between premium and low-quality options.",
		tech: ["WordPress", "Cloudflare"],
		website: "https://sweetmemorystore.com/",
		featured: false
	},
	{
		name: "Aurum Bean",
		description: "Aurum Bean delivers coffee crafted to uncompromising standards.",
		tech: ["Astro", "Cloudflare"],
		website: "https://aurumbean.com/",
		featured: true
	},
	{
		name: "Tales by Tharum",
		description: "A photo gallery site by Tharum Bun",
		tech: ["Astro", "Cloudflare"],
		website: "https://aurumbean.com/",
		featured: true
	}
]

const featuredProjects = projects.filter(p => p.featured)
const otherProjects = projects.filter(p => !p.featured)
---

<BaseLayout {...pageData}>
	<main class="app-container pt-32 pb-20">
		<div class="space-y-16">
			<!-- Header -->
			<header class="space-y-6">
				<h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight">
					Projects & Experiments
				</h1>
				<p class="text-xl md:text-2xl text-secondary dark:text-secondary-dark max-w-3xl leading-relaxed">
					A collection of things we've built in the wild lands of open source. Some solve real problems, others solve problems we invented.
				</p>
			</header>

			<!-- Featured Projects -->
			{featuredProjects.length > 0 && (
				<section class="space-y-6">
					<h2 class="text-3xl font-bold">Featured Projects</h2>
					<div class="grid md:grid-cols-2 gap-6">
						{featuredProjects.map((project) => (
							<article class="p-6 md:p-8 rounded-2xl bg-surface dark:bg-surface-dark border border-border dark:border-border-dark hover:border-primary dark:hover:border-primary-dark transition-all group">
								<div class="space-y-4">
									<div class="space-y-3">
										<h3 class="text-2xl font-bold group-hover:text-primary dark:group-hover:text-primary-dark transition-colors">
											{project.name}
										</h3>
										<p class="text-secondary dark:text-secondary-dark leading-relaxed">
											{project.description}
										</p>
									</div>

									<!-- Tech Stack -->
									<div class="flex flex-wrap gap-2">
										{project.tech.map((tech) => (
											<span class="px-3 py-1 text-sm rounded-full bg-primary/10 dark:bg-primary-dark/10 text-primary dark:text-primary-dark border border-primary/20 dark:border-primary-dark/20">
												{tech}
											</span>
										))}
									</div>

									<!-- Links -->
									<div class="flex gap-3 pt-2">
										{project.github && (
											<a
												href={project.github}
												target="_blank"
												rel="noopener noreferrer"
												class="btn-secondary"
												aria-label={`View ${project.name} on GitHub`}
											>
												<Icon name="mdi:github" class="w-5 h-5" aria-hidden="true" />
												<span>GitHub</span>
											</a>
										)}
										{project.website && (
											<a
												href={project.website}
												target="_blank"
												rel="noopener noreferrer"
												class="btn-primary"
												aria-label={`Visit ${project.name} website`}
											>
												<Icon name="mdi:web" class="w-5 h-5" aria-hidden="true" />
												<span>Website</span>
											</a>
										)}
									</div>
								</div>
							</article>
						))}
					</div>
				</section>
			)}

			<!-- Other Projects -->
			{otherProjects.length > 0 && (
				<section class="space-y-6">
					<h2 class="text-3xl font-bold">Other Projects</h2>
					<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
						{otherProjects.map((project) => (
							<article class="p-6 rounded-2xl bg-surface dark:bg-surface-dark border border-border dark:border-border-dark hover:border-primary dark:hover:border-primary-dark transition-all group">
								<div class="space-y-4">
									<div class="space-y-2">
										<h3 class="text-xl font-bold group-hover:text-primary dark:group-hover:text-primary-dark transition-colors">
											{project.name}
										</h3>
										<p class="text-sm text-secondary dark:text-secondary-dark leading-relaxed">
											{project.description}
										</p>
									</div>

									<!-- Tech Stack -->
									<div class="flex flex-wrap gap-2">
										{project.tech.slice(0, 3).map((tech) => (
											<span class="px-2 py-1 text-xs rounded-full bg-primary/10 dark:bg-primary-dark/10 text-primary dark:text-primary-dark">
												{tech}
											</span>
										))}
									</div>

									<!-- Links -->
									<div class="flex gap-2 pt-2">
										{project.github && (
											<a
												href={project.github}
												target="_blank"
												rel="noopener noreferrer"
												class="text-secondary dark:text-secondary-dark hover:text-primary dark:hover:text-primary-dark transition-colors"
												aria-label={`View ${project.name} on GitHub`}
											>
												<Icon name="mdi:github" class="w-6 h-6" aria-hidden="true" />
											</a>
										)}
										{project.website && (
											<a
												href={project.website}
												target="_blank"
												rel="noopener noreferrer"
												class="text-secondary dark:text-secondary-dark hover:text-primary dark:hover:text-primary-dark transition-colors"
												aria-label={`Visit ${project.name} website`}
											>
												<Icon name="mdi:web" class="w-6 h-6" aria-hidden="true" />
											</a>
										)}
									</div>
								</div>
							</article>
						))}
					</div>
				</section>
			)}

			<!-- CTA -->
			<section class="pt-12 border-t border-border dark:border-border-dark">
				<div class="p-8 rounded-2xl bg-gradient-to-br from-primary/10 to-accent/10 dark:from-primary-dark/10 dark:to-accent-dark/10 border border-primary/20 dark:border-primary-dark/20">
					<div class="space-y-4 text-center max-w-2xl mx-auto">
						<h2 class="text-2xl md:text-3xl font-bold">Got a cool idea?</h2>
						<p class="text-secondary dark:text-secondary-dark">
							We're always down to collaborate on interesting projects, especially if they involve solving real problems or making developers' lives easier. Let's build something awesome together!
						</p>
						<a href="/about" class="btn-primary inline-flex">
							<Icon name="mdi:email" class="w-5 h-5" aria-hidden="true" />
							<span>Let's Chat</span>
						</a>
					</div>
				</div>
			</section>
		</div>
	</main>
</BaseLayout>

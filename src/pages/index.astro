---
import Layout from "@/layouts/Layout.astro";
import { site, SocialLinks } from "@/config/site";
import { home } from "@/config/page";
import { Icon } from "astro-icon/components";
import BlogCard from "@/components/BlogCard.astro";
import { getCollection, type CollectionEntry } from "astro:content";

const allPosts: CollectionEntry<"blog">[] = await getCollection("blog");
const posts = allPosts
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 4);
---

<Layout
	title={home.title}
	description={home.description}
	url={home.url}
	image={home.url}
>
	<!-- Hero Section -->
	<main
		class="app-container flex flex-col gap-8 justify-center py-32 md:py-40 pt-40 md:pt-48 relative min-h-[85vh]"
	>
		<div class="space-y-3 animate-fade-in">
			<p class="text-lg md:text-xl text-secondary dark:text-secondary-dark">Sousdey</p>
			<h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tight text-foreground dark:text-foreground-dark">
			We're Kokitree.
			</h1>
		</div>
		<p class="text-lg md:text-xl max-w-2xl leading-relaxed text-secondary dark:text-secondary-dark">
Build a website, grow your brand, and own your online presence.
		</p>
		<div class="flex flex-wrap gap-4 pt-2">
			<a
				class="btn-secondary inline-flex items-center gap-2"
				href="/about"
				aria-label="Read more about Kokitree"
			>
				Learn more about Kokitree
				<Icon size={18} name="mdi:arrow-right" aria-hidden="true" />
			</a>
		</div>
		<nav aria-label="Social media links" class="flex flex-wrap gap-4 pt-4 border-t border-border/30 dark:border-border-dark/30 mt-4">
			{
				SocialLinks.map((link) => (
					<a
						class="font-medium text-primary dark:text-primary-dark hover:text-accent dark:hover:text-accent-dark transition-colors duration-150"
						href={link.url}
						target="_blank"
						rel="noopener noreferrer"
						aria-label={`Visit Max Bytefield on ${link.name}`}
					>
						{link.name}
					</a>
				))
			}
		</nav>
	</main>

	<!-- What we do Section -->
	<section class="app-container py-16" aria-labelledby="services-heading">
		<div class="space-y-8">
			<div class="space-y-3">
				<h2 id="services-heading" class="section-title">What we do</h2>
				<p class="text-lg text-secondary dark:text-secondary-dark max-w-3xl">
					We help brands and individuals stand out online—through strategy, storytelling, and smart digital growth.
				</p>
			</div>
			<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
				<div class="p-6 rounded-lg border border-border dark:border-border-dark bg-surface dark:bg-surface-dark">
					<Icon name="mdi:code-braces" class="w-8 h-8 mb-4 text-primary dark:text-primary-dark" aria-hidden="true" />
					<h3 class="text-xl font-semibold mb-3">Website & Domain</h3>
					<p class="text-secondary dark:text-secondary-dark leading-relaxed">
Build and own your digital home.
We help you create a modern website and choose the right domain name—so your brand has a strong, independent foundation online.
					</p>
				</div>
				<div class="p-6 rounded-lg border border-border dark:border-border-dark bg-surface dark:bg-surface-dark">
					<Icon name="mdi:api" class="w-8 h-8 mb-4 text-primary dark:text-primary-dark" aria-hidden="true" />
					<h3 class="text-xl font-semibold mb-3">Brand & Content</h3>
					<p class="text-secondary dark:text-secondary-dark leading-relaxed">
Grow your brand through clarity and content.
Kokitree supports brand positioning, blogging, and content strategy to help you build authority, trust, and long-term visibility.
					</p>
				</div>
				<div class="p-6 rounded-lg border border-border dark:border-border-dark bg-surface dark:bg-surface-dark">
					<Icon name="mdi:lightning-bolt" class="w-8 h-8 mb-4 text-primary dark:text-primary-dark" aria-hidden="true" />
					<h3 class="text-xl font-semibold mb-3">Digital Growth Strategy</h3>
					<p class="text-secondary dark:text-secondary-dark leading-relaxed">
						Turn visibility into sustainable online growth. We align your website, brand, and content into a smart digital strategy that expands your reach and influence over time.
					</p>
				</div>
			</div>
		</div>
	</section>


	<!-- CTA Section -->
	<section class="app-container py-16 pb-24">
		<div class="p-8 md:p-12 rounded-lg border border-border dark:border-border-dark bg-gradient-to-br from-primary/5 to-accent/5 dark:from-primary-dark/5 dark:to-accent-dark/5">
			<div class="max-w-2xl">
				<h2 class="text-3xl md:text-4xl font-bold mb-4">Let's Work Together</h2>
				<p class="text-lg text-secondary dark:text-secondary-dark leading-relaxed mb-6">
				Collaborate with us to bring your ideas to life, grow your brand, and achieve results together.
				</p>
				<div class="flex flex-wrap gap-3">
					<a
						class="btn-primary inline-flex items-center gap-2"
						href="/hire"
						aria-label="Start with a discovery conversation"
					>
						Start with a discovery conversation
						<Icon height={18} name="mdi:calendar-clock" aria-hidden="true" />
					</a>
					<a
						class="btn-secondary inline-flex items-center gap-2"
						href="mailto:hello@maxbytefield.dev"
						aria-label="Email Max Bytefield at hello@maxbytefield.dev"
					>
						Email Me
						<Icon height={18} name="mdi:email" aria-hidden="true" />
					</a>
				</div>
			</div>
		</div>
	</section>
</Layout>
